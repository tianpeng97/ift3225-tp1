<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>XHTML Livres</title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="style.css">
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
      <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.css">
   </head>
   <body>
      <div class="container-fluid">
         <form>
            <div class="form-row">
               <div class="form-group col-6"><label for="min">Min</label><input type="text" class="form-control" id="min" placeholder="Min"></div>
               <div class="form-group col-6"><label for="max">Max</label><input type="text" class="form-control" id="max" placeholder="Max"></div>
            </div><button type="button" onclick="refreshTable()" class="btn btn-primary">Soumettre</button><button type="button" onclick="resetTable()" class="btn btn-danger">Reset</button></form>
         <table id="table" data-toggle="table" data-detail-view="true" data-detail-formatter="detailFormatter" class="table">
            <thead>
               <tr>
                  <th scope="col">Auteur</th>
                  <th scope="col">Livre</th>
                  <th scope="col" data-visible="false">Langue</th>
                  <th scope="col">Annee</th>
                  <th scope="col">Prix</th>
                  <th scope="col" data-visible="false">Devise</th>
                  <th scope="col" data-visible="false">Couverture</th>
                  <th scope="col" data-visible="false">Commentaire</th>
               </tr>
            </thead>
            <tbody>
               
               
               
               
               <tr class="visible">
                  <td>Ben jelloun, Tahar</td>
                  <td>Le dernier jour d'un condamn√©</td>
                  <td>fr</td>
                  <td class="annee">1858</td>
                  <td class="prix">3.99</td>
                  <td class="devise"></td>
                  <td class="couverture"></td>
                  <td class="commentaire"></td>
               </tr>
               <tr class="visible">
                  <td>Ben jelloun, Tahar</td>
                  <td>Insomnique</td>
                  <td>fr</td>
                  <td class="annee">2014</td>
                  <td class="prix">14.50</td>
                  <td class="devise">CAD</td>
                  <td class="couverture"></td>
                  <td class="commentaire"></td>
               </tr>
               <tr class="visible">
                  <td>Ben jelloun, Tahar</td>
                  <td>Ablation</td>
                  <td>fr</td>
                  <td class="annee">2000</td>
                  <td class="prix">12.95</td>
                  <td class="devise">CAD</td>
                  <td class="couverture"></td>
                  <td class="commentaire"></td>
               </tr>
               <tr class="visible">
                  <td>Hugo, Victor</td>
                  <td>Notre dame de Paris</td>
                  <td>fr</td>
                  <td class="annee">1831</td>
                  <td class="prix">6.99</td>
                  <td class="devise"></td>
                  <td class="couverture"></td>
                  <td class="commentaire"></td>
               </tr>
               <tr class="visible">
                  <td>Obama, Barack Hussein</td>
                  <td>A promised land</td>
                  <td>eng</td>
                  <td class="annee">2019</td>
                  <td class="prix">55.00</td>
                  <td class="devise">USD</td>
                  <td class="couverture">image</td>
                  <td class="commentaire"></td>
               </tr>
               <tr class="visible">
                  <td>Obama, Barack Hussein</td>
                  <td>Audacity of hope</td>
                  <td>eng</td>
                  <td class="annee">2005</td>
                  <td class="prix">24.00</td>
                  <td class="devise">CAD</td>
                  <td class="couverture"></td>
                  <td class="commentaire"></td>
               </tr>
            </tbody>
         </table>
      </div><script>
                    function refreshTable() {
                    
                        let init = document.getElementsByTagName('tr');
                        if (document.getElementsByClassName('detail-view').length > 0) {
                            alert('Close detailed views!')
                        } else {
                        for (let j = 0; j < init.length; j++) {
                        init[j].className = "visible";                   
                        }
                        
                        let elements = document.getElementsByClassName('prix');
                        let min = document.getElementById('min').value;
                      
                        
                        let max = document.getElementById('max').value;
                        
                        if (min == '') min = '0';
                        if (max == '') max = '100';
                        for (let i = 0; i < elements.length; i++) {
                        if (!(parseFloat(min) <= parseFloat(elements[i].innerHTML)
                        && parseFloat(elements[i].innerHTML) <= parseFloat(max))) {
                        elements[i].parentElement.classList.toggle('d-none');
                        if (elements[i].parentElement.nextSibling.classList.contains("detail-view")) {
                        elements[i].parentElement.nextSibling.toggle('d-none');
                        }
                        }
                        }                     
                        }
                    }
                    
                    function resetTable() {
                        let init = document.getElementsByTagName('tr');
                        for (let j = 0; j < init.length; j++) {
                        init[j].className = "visible";
                        }
                    }
                    
                    function detailFormatter(index, row) {
                        let html = [];
                        html.push('<p><b> Auteur: </b> ' + row[0] + '</p>');
                        html.push('<p><b> Livre: </b> ' + row[1] + '</p>');
                        html.push('<p><b> Langue du livre: </b> ' + row[2] + '</p>');
                        html.push('<p><b> Annee: </b> ' + row[3] + '</p>');
                        html.push('<p><b> Prix: </b> ' + row[4] + '</p>');
                        html.push('<p><b> Devise: </b> ' + row[5] + '</p>');
                        html.push('<p><b> Couverture: </b> ' + row[6] + '</p>');
                        html.push('<p><b> Commentaire: </b> ' + row[7] + '</p>');
                        return html.join('');
                    }
                </script><script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script><script src="https://unpkg.com/bootstrap-table@1.18.3/dist/bootstrap-table.min.js"></script></body>
</html>